# Analyser la sécurité du trafic réseau

## Contexte

A l'aide d'un script dans le langage de votre choix

* Réaliser une requête Web GET sur un site Web (Defaut = https://taisen.fr)
* Afficher l'IP et le nom du serveur DNS qui résout le nom de domaine++
* Afficher l'IP et le port Source
* Afficher l'IP et le port de destination
* Afficher les Headers, si le header est connu, alors afficher son utilité
* Afficher le Content-Type, s'il est générique, afficher son utilité
* Stocker dans une variable de type tableau / Array les différentes balises Web
* Afficher les différents éléments du certificat
* Afficher les noms de certificats de la chaine de confiance
* Afficher la liste des IP équipements réseaux traversés pour atteindre le site Web


#### Powershell

```
# Définir l'URL par défaut
$url = "https://taisen.fr"

# Effectuer une requête GET
$response = Invoke-WebRequest -Uri $url

# Vérifier si la requête a réussi
if ($response.StatusCode -eq 200) {
    Write-Host "Requête réussie, Bravo BG!"
    Write-Host "Contenu de la réponse:"
    Write-Host $response.Content
} else {
    Write-Host "Erreur lors de la requête, tu es une M... Code de statut:" $response.StatusCode
}

# Afficher les en-têtes de la réponse
Write-Host "`nEn-têtes de la réponse:"
$response.Headers

# Récupérer l'adresse IP et le serveur DNS
$hostname = ([System.Uri]$url).Host
$dnsInfo = Resolve-DnsName -Name $hostname

# Afficher l'adresse IP et le serveur DNS
Write-Host "`nAdresse IP résolue:"
$dnsInfo | ForEach-Object {
    if ($_.QueryType -eq "A") {
        Write-Host $_.IPAddress
    }
}

Write-Host "`nServeur DNS utilisé:"
$dnsInfo | ForEach-Object {
    if ($_.QueryType -eq "SOA") {
        Write-Host $_.NameHost
    }
}

# Afficher l'IP et le port source des connexions réseau actives
Write-Host "`nConnexions réseau actives (IP et port source) :"
Get-NetTCPConnection | Select-Object LocalAddress, LocalPort | Format-Table -AutoSize

# Afficher l'IP et le port source et destination des connexions réseau actives
Write-Host "`nConnexions réseau actives (IP et port source et destination) :"
Get-NetTCPConnection | Select-Object LocalAddress, LocalPort, RemoteAddress, RemotePort | Format-Table -AutoSize

